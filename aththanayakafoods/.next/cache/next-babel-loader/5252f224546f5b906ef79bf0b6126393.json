{"ast":null,"code":"import connectDB from '../../../utils/connectDB';\nimport Products from '../../../models/productModel';\nconnectDB();\nexport default (async (req, res) => {\n  switch (req.method) {\n    case \"GET\":\n      await getProducts(req, res);\n      break;\n  }\n});\nconst getProducts = async (req, res) => {\n  try {\n    const products = await Products.find();\n    res.json({\n      status: 'success',\n      result: products.length,\n      Products\n    });\n  } catch (err) {\n    return res.status(500).json({\n      err: err.message\n    });\n  }\n};","map":{"version":3,"names":["connectDB","Products","req","res","method","getProducts","products","find","json","status","result","length","err","message"],"sources":["C:/Users/gihanmadhuwantha/Desktop/system_Development/AththanayakaFoods/aththanayakafoods/pages/api/product/index.js"],"sourcesContent":["import connectDB from '../../../utils/connectDB'\r\nimport Products from '../../../models/productModel'\r\n\r\nconnectDB()\r\nexport default async(req,res)=>{\r\n switch(req.method){\r\n    case \"GET\":\r\n        await getProducts(req,res)\r\n        break;\r\n\r\n }\r\n\r\n}\r\nconst getProducts= async(req,res)=>{\r\n try {\r\n    const products=await Products.find()\r\n    res.json({\r\n        status:'success',\r\n        result:products.length,\r\n        Products})\r\n } catch (err) {\r\n    return res.status(500).json({err:err.message })\r\n }\r\n\r\n\r\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,0BAA0B;AAChD,OAAOC,QAAQ,MAAM,8BAA8B;AAEnDD,SAAS,EAAE;AACX,gBAAe,OAAME,GAAG,EAACC,GAAG,KAAG;EAC9B,QAAOD,GAAG,CAACE,MAAM;IACd,KAAK,KAAK;MACN,MAAMC,WAAW,CAACH,GAAG,EAACC,GAAG,CAAC;MAC1B;EAAM;AAId,CAAC;AACD,MAAME,WAAW,GAAE,OAAMH,GAAG,EAACC,GAAG,KAAG;EAClC,IAAI;IACD,MAAMG,QAAQ,GAAC,MAAML,QAAQ,CAACM,IAAI,EAAE;IACpCJ,GAAG,CAACK,IAAI,CAAC;MACLC,MAAM,EAAC,SAAS;MAChBC,MAAM,EAACJ,QAAQ,CAACK,MAAM;MACtBV;IAAQ,CAAC,CAAC;EACjB,CAAC,CAAC,OAAOW,GAAG,EAAE;IACX,OAAOT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACD,IAAI,CAAC;MAACI,GAAG,EAACA,GAAG,CAACC;IAAQ,CAAC,CAAC;EAClD;AAGD,CAAC"},"metadata":{},"sourceType":"module"}